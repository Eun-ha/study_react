{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/\\u1106\\u116E\\u110C\\u1166 \\u1111\\u1169\\u11AF\\u1103\\u1165/study_react/28-dec-images/src/App.js\";\nimport React from \"react\";\nimport ImageSearch from \"./ImageSearch/ImageSearch\";\nimport ImageList from \"./ImageList/ImageList\";\nconst API_KEY = \"19685084-42bab7fc066c8984c50da7e21\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      error: null\n    };\n\n    this.handleGetRequest = async e => {\n      e.preventDefault();\n      const searchTerm = e.target.elements.searchValue.value;\n      const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchTerm}&image_type=photo`;\n      const request = await fetch(url);\n      const response = await request.json();\n\n      if (!searchTerm) {\n        this.setState({\n          error: \"Please  provide a value.\"\n        });\n      } else {\n        this.setState({\n          images: response.hits,\n          error: null\n        });\n      } //console.log(searchTerm)\n      //console.log(this.state.images)\n\n    };\n\n    this.componentDidMount = () => {\n      const json = localStorage.getItem(\"images\");\n      const images = JSON.parse(json);\n      this.setState();\n    };\n\n    this.componentDidUpdate = () => {\n      const images = JSON.stringify(this.state.images);\n      localStorage.setItem(\"images\", images);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(ImageSearch, {\n      handleGetRequest: this.handleGetRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), this.state.error !== null ? React.createElement(\"div\", {\n      style: {\n        color: \"#fff\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.error) : React.createElement(ImageList, {\n      images: this.state.images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/Desktop/무제 폴더/study_react/28-dec-images/src/App.js"],"names":["React","ImageSearch","ImageList","API_KEY","App","Component","state","images","error","handleGetRequest","e","preventDefault","searchTerm","target","elements","searchValue","value","url","request","fetch","response","json","setState","hits","componentDidMount","localStorage","getItem","JSON","parse","componentDidUpdate","stringify","setItem","render","color","textAlign"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEA,MAAMC,OAAO,GAAG,oCAAhB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAiC;AAAA;AAAA;AAAA,SAC/BC,KAD+B,GACvB;AACNC,MAAAA,MAAM,EAAC,EADD;AAENC,MAAAA,KAAK,EAAE;AAFD,KADuB;;AAAA,SAK/BC,gBAL+B,GAKZ,MAAOC,CAAP,IAAa;AAC9BA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,UAAU,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,WAAlB,CAA8BC,KAAjD;AACA,YAAMC,GAAG,GAAI,gCAA+Bd,OAAQ,MAAKS,UAAW,mBAApE;AACA,YAAMM,OAAO,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA3B;AACA,YAAMG,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAvB;;AACA,UAAG,CAACT,UAAJ,EAAe;AACb,aAAKU,QAAL,CAAc;AAACd,UAAAA,KAAK,EAAC;AAAP,SAAd;AACD,OAFD,MAEK;AACH,aAAKc,QAAL,CAAc;AAACf,UAAAA,MAAM,EAAEa,QAAQ,CAACG,IAAlB;AAAwBf,UAAAA,KAAK,EAAE;AAA/B,SAAd;AACD,OAV6B,CAY9B;AACA;;AACD,KAnB8B;;AAAA,SAoB/BgB,iBApB+B,GAoBX,MAAM;AACxB,YAAMH,IAAI,GAAGI,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAb;AACA,YAAMnB,MAAM,GAAGoB,IAAI,CAACC,KAAL,CAAWP,IAAX,CAAf;AACA,WAAKC,QAAL;AACD,KAxB8B;;AAAA,SAyB/BO,kBAzB+B,GAyBV,MAAM;AACzB,YAAMtB,MAAM,GAAGoB,IAAI,CAACG,SAAL,CAAe,KAAKxB,KAAL,CAAWC,MAA1B,CAAf;AACAkB,MAAAA,YAAY,CAACM,OAAb,CAAqB,QAArB,EAA+BxB,MAA/B;AACD,KA5B8B;AAAA;;AA6B/ByB,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,gBAAgB,EAAE,KAAKvB,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAGI,KAAKH,KAAL,CAAWE,KAAX,KAAqB,IAArB,GACC;AAAK,MAAA,KAAK,EAAE;AAACyB,QAAAA,KAAK,EAAC,MAAP;AAAeC,QAAAA,SAAS,EAAC;AAAzB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiD,KAAK5B,KAAL,CAAWE,KAA5D,CADD,GAEC,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAE,KAAKF,KAAL,CAAWC,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALL,CADF;AAYD;;AA1C8B;;AA6CjC,eAAeH,GAAf","sourcesContent":["import React from \"react\"\nimport ImageSearch from \"./ImageSearch/ImageSearch\"\nimport ImageList from \"./ImageList/ImageList\"\n\nconst API_KEY = \"19685084-42bab7fc066c8984c50da7e21\"\n\nclass App extends React.Component{\n  state = {\n    images:[],\n    error: null\n  }\n  handleGetRequest = async (e) => {\n    e.preventDefault()\n    const searchTerm = e.target.elements.searchValue.value\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchTerm}&image_type=photo`\n    const request = await fetch(url)\n    const response = await request.json()\n    if(!searchTerm){\n      this.setState({error:\"Please  provide a value.\"})\n    }else{\n      this.setState({images: response.hits, error: null})\n    }\n    \n    //console.log(searchTerm)\n    //console.log(this.state.images)\n  }\n  componentDidMount = () => {\n    const json = localStorage.getItem(\"images\");\n    const images = JSON.parse(json);\n    this.setState()\n  }\n  componentDidUpdate = () => {\n    const images = JSON.stringify(this.state.images);\n    localStorage.setItem(\"images\", images);\n  }\n  render(){\n    return(\n      <div>\n        <ImageSearch handleGetRequest={this.handleGetRequest}/>\n        {\n          this.state.error !== null ?\n           <div style={{color:\"#fff\", textAlign:\"center\"}}>{this.state.error}</div> :\n           <ImageList images={this.state.images}/>\n\n        }\n        \n      </div>\n    )\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}